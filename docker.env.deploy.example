# New-API 部署环境变量配置
# 复制此文件为 docker.env 并修改相应配置

# ===== 镜像仓库配置 =====
DOCKER_REGISTRY=crpi-appxm8pdgvw49jw2.cn-hangzhou.personal.cr.aliyuncs.com/blueming3
DOCKER_REGISTRY_USERNAME=铅笔头科技

# ===== 版本配置 =====
TAG=latest

# ===== 服务端口配置 =====
NEW_API_PORT=3000

# ===== 时区配置 =====
TZ=Asia/Shanghai

# ===== New-API 应用配置 =====
# 数据库连接（如果使用外部数据库）
# SQL_DSN=user:password@tcp(localhost:3306)/new-api?charset=utf8mb4&parseTime=True&loc=Local

# Redis连接（如果使用外部Redis）
# REDIS_CONN_STRING=redis://localhost:6379

# 会话密钥（重要：生产环境必须设置）
# SESSION_SECRET=your-session-secret-key-here

# 初始管理员令牌（首次部署时设置）
# INITIAL_ROOT_TOKEN=sk-your-initial-admin-token

# 日志配置
ERROR_LOG_ENABLED=true

# 流式响应超时时间（秒）
STREAMING_TIMEOUT=300

# 是否为新用户生成默认令牌
GENERATE_DEFAULT_TOKEN=true

# ===== Docker Compose 配置 =====
# MySQL配置（匹配现有docker-compose.yml）
MYSQL_ROOT_PASSWORD=man@2025
MYSQL_DATABASE=new-api
# 注意：使用root用户，无需单独的MYSQL_USER
SQL_DSN=root:man@2025@tcp(mysql:3306)/new-api

# Redis配置（如果使用docker-compose）
# REDIS_PASSWORD=  # 当前配置无密码
REDIS_CONN_STRING=redis://redis

# ===== 部署配置 =====
# 部署模式: standalone (单机) 或 compose (完整)
DEPLOY_MODE=compose

# 数据目录
DATA_DIR=./data
LOGS_DIR=./logs